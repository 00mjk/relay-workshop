(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1351:function(module,exports,__webpack_require__){"use strict";__webpack_require__(8),__webpack_require__(82),__webpack_require__(54),__webpack_require__(36),__webpack_require__(62),__webpack_require__(1352),__webpack_require__(1353),__webpack_require__(14),__webpack_require__(55);var _clientApi=__webpack_require__(86),_clientLogger=__webpack_require__(52),_configFilename=__webpack_require__(1354);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},1354:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));var parameters={actions:{argTypesRegex:"^on[A-Z].*"}}},1355:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(518).configure)([__webpack_require__(1356)],module,!1)}).call(this,__webpack_require__(165)(module))},1356:function(module,exports,__webpack_require__){var map={"./web/src/components/feed/Feed.stories.tsx":1495};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1356},1460:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var v0,v1,v2,v3,v4,v5,v6,v7,v8,v9,v10,node={fragment:{argumentDefinitions:v0=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"PostCreateMutation",selections:[{alias:null,args:v1=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"PostCreatePayload",kind:"LinkedField",name:"PostCreate",plural:!1,selections:[v2={alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null},v3={alias:null,args:null,kind:"ScalarField",name:"error",storageKey:null},{alias:null,args:null,concreteType:"PostEdge",kind:"LinkedField",name:"postEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"node",plural:!1,selections:[v4={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},v5={alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},v7={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"author",plural:!1,selections:v6=[v4,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},v8={alias:null,args:null,kind:"ScalarField",name:"meHasLiked",storageKey:null},v9={alias:null,args:null,kind:"ScalarField",name:"likesCount",storageKey:null},{args:null,kind:"FragmentSpread",name:"PostComments_post"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:v0,kind:"Operation",name:"PostCreateMutation",selections:[{alias:null,args:v1,concreteType:"PostCreatePayload",kind:"LinkedField",name:"PostCreate",plural:!1,selections:[v2,v3,{alias:null,args:null,concreteType:"PostEdge",kind:"LinkedField",name:"postEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"node",plural:!1,selections:[v4,v5,v7,v8,v9,{alias:null,args:v10=[{kind:"Literal",name:"first",value:3}],concreteType:"CommentConnection",kind:"LinkedField",name:"comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursorOffset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursorOffset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"PageInfoExtended",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CommentEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[v4,{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:v6,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"comments(first:3)"},{alias:null,args:v10,filters:[],handle:"connection",key:"PostComments_comments",kind:"LinkedHandle",name:"comments"}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"886cdc1594def25e70a1c98d36952ffe",id:null,metadata:{},name:"PostCreateMutation",operationKind:"mutation",text:"mutation PostCreateMutation(\n  $input: PostCreateInput!\n) {\n  PostCreate(input: $input) {\n    success\n    error\n    postEdge {\n      node {\n        id\n        content\n        author {\n          id\n          name\n        }\n        meHasLiked\n        likesCount\n        ...PostComments_post\n      }\n    }\n  }\n}\n\nfragment PostComments_post on Post {\n  id\n  comments(first: 3) {\n    endCursorOffset\n    startCursorOffset\n    count\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      startCursor\n      endCursor\n    }\n    edges {\n      cursor\n      node {\n        id\n        body\n        user {\n          id\n          name\n          ...UserAvatar_user\n        }\n        __typename\n      }\n    }\n  }\n}\n\nfragment UserAvatar_user on User {\n  id\n  name\n}\n"}};node.hash="e0eb18ee8a8455618fc392de9116f18d",__webpack_exports__.default=node},1463:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var v0,v1,v2,v3,v4,v5,node={fragment:{argumentDefinitions:v0=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"PostLikeMutation",selections:[{alias:null,args:v1=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"PostLikePayload",kind:"LinkedField",name:"PostLike",plural:!1,selections:[v2={alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null},v3={alias:null,args:null,kind:"ScalarField",name:"error",storageKey:null},{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"post",plural:!1,selections:[v4={alias:null,args:null,kind:"ScalarField",name:"meHasLiked",storageKey:null},v5={alias:null,args:null,kind:"ScalarField",name:"likesCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:v0,kind:"Operation",name:"PostLikeMutation",selections:[{alias:null,args:v1,concreteType:"PostLikePayload",kind:"LinkedField",name:"PostLike",plural:!1,selections:[v2,v3,{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"post",plural:!1,selections:[v4,v5,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"093038a0fb0d7d53e15470f8b27f9b13",id:null,metadata:{},name:"PostLikeMutation",operationKind:"mutation",text:"mutation PostLikeMutation(\n  $input: PostLikeInput!\n) {\n  PostLike(input: $input) {\n    success\n    error\n    post {\n      meHasLiked\n      likesCount\n      id\n    }\n  }\n}\n"}};node.hash="97a3e119313a676a614e43aa0c2874e4",__webpack_exports__.default=node},1464:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var v0,v1,v2,v3,v4,v5,node={fragment:{argumentDefinitions:v0=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"PostUnLikeMutation",selections:[{alias:null,args:v1=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"PostUnLikePayload",kind:"LinkedField",name:"PostUnLike",plural:!1,selections:[v2={alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null},v3={alias:null,args:null,kind:"ScalarField",name:"error",storageKey:null},{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"post",plural:!1,selections:[v4={alias:null,args:null,kind:"ScalarField",name:"meHasLiked",storageKey:null},v5={alias:null,args:null,kind:"ScalarField",name:"likesCount",storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:v0,kind:"Operation",name:"PostUnLikeMutation",selections:[{alias:null,args:v1,concreteType:"PostUnLikePayload",kind:"LinkedField",name:"PostUnLike",plural:!1,selections:[v2,v3,{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"post",plural:!1,selections:[v4,v5,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{cacheID:"09d44be169ca080bdd61d19cf68926fa",id:null,metadata:{},name:"PostUnLikeMutation",operationKind:"mutation",text:"mutation PostUnLikeMutation(\n  $input: PostUnLikeInput!\n) {\n  PostUnLike(input: $input) {\n    success\n    error\n    post {\n      meHasLiked\n      likesCount\n      id\n    }\n  }\n}\n"}};node.hash="ca4544215d240ee7bde5404c57b612cd",__webpack_exports__.default=node},1465:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var node={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PostLikeButton_post",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"meHasLiked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"likesCount",storageKey:null}],type:"Post",abstractKey:null,hash:"49f2db4c36a48330643b11f60f4a77f1"};__webpack_exports__.default=node},1466:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var node={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UserAvatar_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"User",abstractKey:null,hash:"da47305395329069f51be6866b27e4bf"};__webpack_exports__.default=node},1467:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var v0,v1,v2,v3,v4,v5,v6,node={fragment:{argumentDefinitions:v0=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"PostCommentCreateMutation",selections:[{alias:null,args:v1=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"PostCommentCreatePayload",kind:"LinkedField",name:"PostCommentCreate",plural:!1,selections:[v2={alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null},v3={alias:null,args:null,kind:"ScalarField",name:"error",storageKey:null},{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"post",plural:!1,selections:[v4={alias:null,args:null,kind:"ScalarField",name:"commentsCount",storageKey:null}],storageKey:null},v6={alias:null,args:null,concreteType:"CommentEdge",kind:"LinkedField",name:"commentEdge",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[v5={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[v5,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:v0,kind:"Operation",name:"PostCommentCreateMutation",selections:[{alias:null,args:v1,concreteType:"PostCommentCreatePayload",kind:"LinkedField",name:"PostCommentCreate",plural:!1,selections:[v2,v3,{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"post",plural:!1,selections:[v4,v5],storageKey:null},v6],storageKey:null}]},params:{cacheID:"18adc29bfb7bbe48fe20235c5a28b4b6",id:null,metadata:{},name:"PostCommentCreateMutation",operationKind:"mutation",text:"mutation PostCommentCreateMutation(\n  $input: PostCommentCreateInput!\n) {\n  PostCommentCreate(input: $input) {\n    success\n    error\n    post {\n      commentsCount\n      id\n    }\n    commentEdge {\n      node {\n        id\n        body\n        user {\n          id\n          name\n        }\n      }\n    }\n  }\n}\n"}};node.hash="c9f3acd801355d5a912eaa9f0c96fed9",__webpack_exports__.default=node},1468:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var node={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PostCommentComposer_post",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"author",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"UserAvatar_user"}],storageKey:null}],type:"Post",abstractKey:null,hash:"7975704aa268b0bfe25c3239deebbc0f"};__webpack_exports__.default=node},1469:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var node={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PostCommentComposer_me",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],type:"User",abstractKey:null,hash:"9ef187925a0b8aedc907d42e0a188db1"};__webpack_exports__.default=node},1470:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var v0,v1,node=(v1={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:3,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:v0=["comments"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:null,path:v0},fragmentPathInResult:["node"],operation:__webpack_require__(1471),identifierField:"id"}},name:"PostComments_post",selections:[v1,{alias:"comments",args:null,concreteType:"CommentConnection",kind:"LinkedField",name:"__PostComments_comments_connection",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursorOffset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursorOffset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"PageInfoExtended",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CommentEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[v1,{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[v1,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"UserAvatar_user"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Post",abstractKey:null});node.hash="117a5148909f38afc114761cd0f3da9f",__webpack_exports__.default=node},1471:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var v0,v1,v2,v3,v4,node={fragment:{argumentDefinitions:v0=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:3,kind:"LocalArgument",name:"first"},{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"PostCommentsRefetchQuery",selections:[{alias:null,args:v1=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:v2=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"PostComments_post"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:v0,kind:"Operation",name:"PostCommentsRefetchQuery",selections:[{alias:null,args:v1,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[v3={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},v4={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:v2,concreteType:"CommentConnection",kind:"LinkedField",name:"comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursorOffset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursorOffset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"PageInfoExtended",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CommentEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[v4,{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[v4,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},v3],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:v2,filters:[],handle:"connection",key:"PostComments_comments",kind:"LinkedHandle",name:"comments"}],type:"Post",abstractKey:null}],storageKey:null}]},params:{cacheID:"5e27153c916288111762c5ebc1a1e286",id:null,metadata:{},name:"PostCommentsRefetchQuery",operationKind:"query",text:"query PostCommentsRefetchQuery(\n  $after: String\n  $first: Int = 3\n  $id: ID!\n) {\n  node(id: $id) {\n    __typename\n    ...PostComments_post_2HEEH6\n    id\n  }\n}\n\nfragment PostComments_post_2HEEH6 on Post {\n  id\n  comments(first: $first, after: $after) {\n    endCursorOffset\n    startCursorOffset\n    count\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      startCursor\n      endCursor\n    }\n    edges {\n      cursor\n      node {\n        id\n        body\n        user {\n          id\n          name\n          ...UserAvatar_user\n        }\n        __typename\n      }\n    }\n  }\n}\n\nfragment UserAvatar_user on User {\n  id\n  name\n}\n"}};node.hash="117a5148909f38afc114761cd0f3da9f",__webpack_exports__.default=node},1472:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var node={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PostHeader_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"UserAvatar_user"}],type:"User",abstractKey:null,hash:"754a18da07dd9d4fbb52fd5a936ab605"};__webpack_exports__.default=node},1473:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var v0,node={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Post_post",selections:[v0={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"author",plural:!1,selections:[v0,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{args:null,kind:"FragmentSpread",name:"PostHeader_user"},{args:null,kind:"FragmentSpread",name:"UserAvatar_user"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PostLikeButton_post"},{args:null,kind:"FragmentSpread",name:"PostCommentComposer_post"},{args:null,kind:"FragmentSpread",name:"PostComments_post"}],type:"Post",abstractKey:null};node.hash="e8245219b71d87bc8204e064e371e75c",__webpack_exports__.default=node},1474:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var node={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"Post_me",selections:[{args:null,kind:"FragmentSpread",name:"PostCommentComposer_me"}],type:"User",abstractKey:null,hash:"b50a79e64e27ac43764550e693e1c1d7"};__webpack_exports__.default=node},1475:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var v0,node={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:3,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:{connection:[{count:"first",cursor:"after",direction:"forward",path:v0=["posts"]}],refetch:{connection:{forward:{count:"first",cursor:"after"},backward:null,path:v0},fragmentPathInResult:[],operation:__webpack_require__(1476)}},name:"FeedList_query",selections:[{alias:"posts",args:null,concreteType:"PostConnection",kind:"LinkedField",name:"__Feed_posts_connection",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursorOffset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursorOffset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"PageInfoExtended",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PostEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"Post_post"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"me",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"Post_me"}],storageKey:null}],type:"Query",abstractKey:null};node.hash="7909545b6605ab0566b8be5cdffb68f8",__webpack_exports__.default=node},1476:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var v0,v1,v2,v3,v4,v5,v6,v7,v8,v9,v10,node={fragment:{argumentDefinitions:v0=[{defaultValue:null,kind:"LocalArgument",name:"after"},{defaultValue:3,kind:"LocalArgument",name:"first"}],kind:"Fragment",metadata:null,name:"FeedListPaginationQuery",selections:[{args:v1=[{kind:"Variable",name:"after",variableName:"after"},{kind:"Variable",name:"first",variableName:"first"}],kind:"FragmentSpread",name:"FeedList_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:v0,kind:"Operation",name:"FeedListPaginationQuery",selections:[{alias:null,args:v1,concreteType:"PostConnection",kind:"LinkedField",name:"posts",plural:!1,selections:[v2={alias:null,args:null,kind:"ScalarField",name:"endCursorOffset",storageKey:null},v3={alias:null,args:null,kind:"ScalarField",name:"startCursorOffset",storageKey:null},v4={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},v5={alias:null,args:null,concreteType:"PageInfoExtended",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PostEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"node",plural:!1,selections:[v6={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"author",plural:!1,selections:v7=[v6,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"meHasLiked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"likesCount",storageKey:null},{alias:null,args:v8=[{kind:"Literal",name:"first",value:3}],concreteType:"CommentConnection",kind:"LinkedField",name:"comments",plural:!1,selections:[v2,v3,v4,v5,{alias:null,args:null,concreteType:"CommentEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[v9={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[v6,{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:v7,storageKey:null},v10={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"comments(first:3)"},{alias:null,args:v8,filters:[],handle:"connection",key:"PostComments_comments",kind:"LinkedHandle",name:"comments"},v10],storageKey:null},v9],storageKey:null}],storageKey:null},{alias:null,args:v1,filters:[],handle:"connection",key:"Feed_posts",kind:"LinkedHandle",name:"posts"},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"me",plural:!1,selections:v7,storageKey:null}]},params:{cacheID:"fc4eb46340cd319e21c78248503c6610",id:null,metadata:{},name:"FeedListPaginationQuery",operationKind:"query",text:"query FeedListPaginationQuery(\n  $after: String\n  $first: Int = 3\n) {\n  ...FeedList_query_2HEEH6\n}\n\nfragment FeedList_query_2HEEH6 on Query {\n  posts(first: $first, after: $after) {\n    endCursorOffset\n    startCursorOffset\n    count\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      startCursor\n      endCursor\n    }\n    edges {\n      node {\n        id\n        ...Post_post\n        __typename\n      }\n      cursor\n    }\n  }\n  me {\n    ...Post_me\n    id\n  }\n}\n\nfragment PostCommentComposer_me on User {\n  id\n  name\n}\n\nfragment PostCommentComposer_post on Post {\n  id\n  author {\n    ...UserAvatar_user\n    id\n  }\n}\n\nfragment PostComments_post on Post {\n  id\n  comments(first: 3) {\n    endCursorOffset\n    startCursorOffset\n    count\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      startCursor\n      endCursor\n    }\n    edges {\n      cursor\n      node {\n        id\n        body\n        user {\n          id\n          name\n          ...UserAvatar_user\n        }\n        __typename\n      }\n    }\n  }\n}\n\nfragment PostHeader_user on User {\n  id\n  name\n  ...UserAvatar_user\n}\n\nfragment PostLikeButton_post on Post {\n  id\n  meHasLiked\n  likesCount\n}\n\nfragment Post_me on User {\n  ...PostCommentComposer_me\n}\n\nfragment Post_post on Post {\n  id\n  content\n  author {\n    id\n    name\n    ...PostHeader_user\n    ...UserAvatar_user\n  }\n  ...PostLikeButton_post\n  ...PostCommentComposer_post\n  ...PostComments_post\n}\n\nfragment UserAvatar_user on User {\n  id\n  name\n}\n"}};node.hash="7909545b6605ab0566b8be5cdffb68f8",__webpack_exports__.default=node},1477:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var v0,v1,v2,v3,v4,v5,v6,v7,v8,node={fragment:{argumentDefinitions:v0=[{defaultValue:null,kind:"LocalArgument",name:"input"}],kind:"Fragment",metadata:null,name:"PostNewSubscription",selections:[{alias:null,args:v1=[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"PostNewPayload",kind:"LinkedField",name:"PostNew",plural:!1,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"post",plural:!1,selections:[v2={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},v3={alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},v5={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"author",plural:!1,selections:v4=[v2,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},v6={alias:null,args:null,kind:"ScalarField",name:"meHasLiked",storageKey:null},v7={alias:null,args:null,kind:"ScalarField",name:"likesCount",storageKey:null},{args:null,kind:"FragmentSpread",name:"PostComments_post"}],storageKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:v0,kind:"Operation",name:"PostNewSubscription",selections:[{alias:null,args:v1,concreteType:"PostNewPayload",kind:"LinkedField",name:"PostNew",plural:!1,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"post",plural:!1,selections:[v2,v3,v5,v6,v7,{alias:null,args:v8=[{kind:"Literal",name:"first",value:3}],concreteType:"CommentConnection",kind:"LinkedField",name:"comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursorOffset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursorOffset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"PageInfoExtended",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CommentEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[v2,{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:v4,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"comments(first:3)"},{alias:null,args:v8,filters:[],handle:"connection",key:"PostComments_comments",kind:"LinkedHandle",name:"comments"}],storageKey:null}],storageKey:null}]},params:{cacheID:"582e76762a7caff1383ecac16a179d03",id:null,metadata:{},name:"PostNewSubscription",operationKind:"subscription",text:"subscription PostNewSubscription(\n  $input: PostNewInput!\n) {\n  PostNew(input: $input) {\n    post {\n      id\n      content\n      author {\n        id\n        name\n      }\n      meHasLiked\n      likesCount\n      ...PostComments_post\n    }\n  }\n}\n\nfragment PostComments_post on Post {\n  id\n  comments(first: 3) {\n    endCursorOffset\n    startCursorOffset\n    count\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      startCursor\n      endCursor\n    }\n    edges {\n      cursor\n      node {\n        id\n        body\n        user {\n          id\n          name\n          ...UserAvatar_user\n        }\n        __typename\n      }\n    }\n  }\n}\n\nfragment UserAvatar_user on User {\n  id\n  name\n}\n"}};node.hash="f0c38d76170081c9dba373bd0546d8b2",__webpack_exports__.default=node},1495:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"Simple",(function(){return Simple}));__webpack_require__(18),__webpack_require__(382),__webpack_require__(7);var react=__webpack_require__(0),Feed=__webpack_require__(466),relay_test_utils=(__webpack_require__(23),__webpack_require__(214)),hooks=__webpack_require__(48),jsx_runtime=__webpack_require__(3);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var RelayStorybook_RelayStorybook=function RelayStorybook(props){var children=props.children,_props$mockResolvers=props.mockResolvers,mockResolvers=void 0===_props$mockResolvers?{}:_props$mockResolvers,environment=_slicedToArray(Object(react.useState)(props.environment?props.environment:function(){return Object(relay_test_utils.createMockEnvironment)()}),1)[0];return Object(react.useEffect)((function(){try{environment.mock.resolveMostRecentOperation((function(operation){return relay_test_utils.MockPayloadGenerator.generate(operation,mockResolvers)}))}catch(err){console.log({err:err})}}),[]),Object(jsx_runtime.jsx)(hooks.RelayEnvironmentProvider,{environment:environment,children:children})};RelayStorybook_RelayStorybook.displayName="RelayStorybook";var src=__webpack_require__(63),ErrorBoundary=__webpack_require__(327),notistack_esm=__webpack_require__(317),route_src=__webpack_require__(74),relay_runtime=(__webpack_require__(13),__webpack_require__(106),__webpack_require__(1482),__webpack_require__(1483),__webpack_require__(41)),src_config=(__webpack_require__(160),__webpack_require__(417),__webpack_require__(29),__webpack_require__(27),{GRAPHQL_URL:Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).GRAPHQL_URL,SUBSCRIPTION_URL:Object({NODE_ENV:"production",NODE_PATH:"",STORYBOOK:"true",PUBLIC_URL:"."}).SUBSCRIPTION_URL}),security=__webpack_require__(258),isMutation=(__webpack_require__(54),__webpack_require__(26),__webpack_require__(11),__webpack_require__(14),__webpack_require__(55),function isMutation(request){return"mutation"===request.operationKind}),isQuery=function isQuery(request){return"query"===request.operationKind},forceFetch=function forceFetch(cacheConfig){return!(!cacheConfig||!cacheConfig.force)},handleData=function handleData(response){var contentType=response.headers.get("content-type");return contentType&&-1!==contentType.indexOf("application/json")?response.json():response.text()};function getRequestBody(request,variables,uploadables){return uploadables?function getRequestBodyWithUploadables(request,variables,uploadables){var formData=new FormData;return formData.append("name",request.name),formData.append("query",request.text),formData.append("variables",JSON.stringify(variables)),Object.keys(uploadables).forEach((function(key){Object.prototype.hasOwnProperty.call(uploadables,key)&&formData.append(key,uploadables[key])})),formData}(request,variables,uploadables):function getRequestBodyWithoutUplodables(request,variables){return JSON.stringify({name:request.name,query:request.text,variables:variables})}(request,variables)}var getHeaders=function getHeaders(uploadables){return uploadables?{Accept:"*/*"}:{Accept:"application/json","Content-type":"application/json"}},canUseDOM=(__webpack_require__(1484),__webpack_require__(28),__webpack_require__(412),!("undefined"==typeof window||!window.document||!window.document.createElement)),ExecuteEnvironment={canUseDOM:canUseDOM,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:canUseDOM&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:canUseDOM&&!!window.screen,isInWorker:!canUseDOM};function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var DEFAULT_RETRIES=[1e3,3e3];var relay_fetchWithRetries=function fetchWithRetries(uri,initWithRetries){var _ref=initWithRetries||{},fetchTimeout=_ref.fetchTimeout,retryDelays=_ref.retryDelays,init=_objectWithoutProperties(_ref,["fetchTimeout","retryDelays"]),_fetchTimeout=null!=fetchTimeout?fetchTimeout:15e3,_retryDelays=null!=retryDelays?retryDelays:DEFAULT_RETRIES,requestsAttempted=0,requestStartTime=0;return new Promise((function(resolve,reject){function sendTimedRequest(){requestsAttempted++,requestStartTime=Date.now();var isRequestAlive=!0,request=fetch(uri,init),requestTimeout=setTimeout((function(){isRequestAlive=!1,shouldRetry(requestsAttempted)?(console.log(!1,"fetchWithRetries: HTTP timeout, retrying."),retryRequest()):reject(new Error("fetchWithRetries(): Failed to get response from server, tried ".concat(requestsAttempted," times.")))}),_fetchTimeout);request.then((function(response){if(clearTimeout(requestTimeout),isRequestAlive)if(response.status>=200&&response.status<300)resolve(response);else if(401===response.status)resolve(response);else if(shouldRetry(requestsAttempted))console.log(!1,"fetchWithRetries: HTTP error, retrying."),retryRequest();else{var error=new Error("fetchWithRetries(): Still no successful response after ".concat(requestsAttempted," retries, giving up."));error.response=response,reject(error)}})).catch((function(error){clearTimeout(requestTimeout),shouldRetry(requestsAttempted)?retryRequest():reject(error)}))}function retryRequest(){var retryDelay=_retryDelays[requestsAttempted-1];setTimeout(sendTimedRequest,requestStartTime+retryDelay-Date.now())}function shouldRetry(attempt){return ExecuteEnvironment.canUseDOM&&attempt<=_retryDelays.length}sendTimedRequest()}))};function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var relay_fetchQuery=function(){var _ref=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(request,variables,uploadables){var body,authorization,headers,isMutationOperation,fetchFn,response,data,timeoutRegexp,serverUnavailableRegexp;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,body=getRequestBody(request,variables,uploadables),authorization=Object(security.a)(),headers=Object.assign({},getHeaders(uploadables),{authorization:authorization}),isMutationOperation=isMutation(request),fetchFn=isMutationOperation?fetch:relay_fetchWithRetries,_context.next=8,fetchFn(src_config.GRAPHQL_URL,{method:"POST",headers:headers,body:body,fetchTimeout:2e4,retryDelays:[1e3,3e3,5e3]});case 8:return response=_context.sent,_context.next=11,handleData(response);case 11:if(data=_context.sent,401!==response.status){_context.next=14;break}throw data.errors;case 14:if(!isMutation(request)||!data.errors){_context.next=16;break}throw data;case 16:if(data.data){_context.next=18;break}throw data.errors;case 18:return _context.abrupt("return",data);case 21:if(_context.prev=21,_context.t0=_context.catch(0),console.log("err: ",_context.t0),timeoutRegexp=new RegExp(/Still no successful response after/),serverUnavailableRegexp=new RegExp(/Failed to fetch/),!timeoutRegexp.test(_context.t0.message)&&!serverUnavailableRegexp.test(_context.t0.message)){_context.next=28;break}throw new Error("Unavailable service. Try again later.");case 28:throw _context.t0;case 29:case"end":return _context.stop()}}),_callee,null,[[0,21]])})));return function fetchQuery(_x,_x2,_x3){return _ref.apply(this,arguments)}}();function cacheHandler_asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}var queryResponseCache=new relay_runtime.QueryResponseCache({size:250,ttl:6e4}),relay_cacheHandler=function(){var _ref=function cacheHandler_asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){cacheHandler_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){cacheHandler_asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(regeneratorRuntime.mark((function _callee(request,variables,cacheConfig,uploadables){var queryID,fromCache,fromServer;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(queryID=request.text,!isMutation(request)){_context.next=4;break}return queryResponseCache.clear(),_context.abrupt("return",relay_fetchQuery(request,variables,uploadables));case 4:if(fromCache=queryResponseCache.get(queryID,variables),!isQuery(request)||null===fromCache||forceFetch(cacheConfig)){_context.next=7;break}return _context.abrupt("return",fromCache);case 7:return _context.next=9,relay_fetchQuery(request,variables,uploadables);case 9:return(fromServer=_context.sent)&&queryResponseCache.set(queryID,variables,fromServer),_context.abrupt("return",fromServer);case 12:case"end":return _context.stop()}}),_callee)})));return function cacheHandler(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)}}(),client=__webpack_require__(698),network=relay_runtime.Network.create(relay_cacheHandler,(function setupSubscription(request,variables){var query=request.text,authorization=Object(security.a)(),connectionParams={};authorization&&(connectionParams.authorization=authorization);var observable=new client.SubscriptionClient(src_config.SUBSCRIPTION_URL,{reconnect:!0,connectionParams:connectionParams}).request({query:query,variables:variables});return relay_runtime.Observable.from(observable)})),env=new relay_runtime.Environment({network:network,store:new relay_runtime.Store(new relay_runtime.RecordSource,{gcReleaseBufferSize:10}),log:null});var Environment=env,routes=[{component:Object(route_src.a)("Auth",(function(){return __webpack_require__.e(5).then(__webpack_require__.bind(null,1570))})),path:"/auth",exact:!1,routes:[{path:"/auth/signUp",exact:!0,component:Object(route_src.a)("SignUp",(function(){return Promise.all([__webpack_require__.e(0),__webpack_require__.e(7)]).then(__webpack_require__.bind(null,1572))}))},{path:"/auth/login",exact:!0,component:Object(route_src.a)("Login",(function(){return Promise.all([__webpack_require__.e(0),__webpack_require__.e(6)]).then(__webpack_require__.bind(null,1573))}))}]},{component:Object(route_src.a)("Root",(function(){return __webpack_require__.e(4).then(__webpack_require__.bind(null,1574))})),path:"/",exact:!1,prepare:function prepare(){var RootQuery=__webpack_require__(708);return{rootQuery:Object(src.b)(Environment,RootQuery,{},{fetchPolicy:"network-only"})}},routes:[{path:"/",exact:!0,component:Object(route_src.a)("Feed",(function(){return Promise.resolve().then(__webpack_require__.bind(null,466))})),prepare:function prepare(){var FeedQuery=__webpack_require__(460);return{feedQuery:Object(src.b)(Environment,FeedQuery,{},{fetchPolicy:"store-or-network"})}}},{path:"/post/:id",exact:!0,component:Object(route_src.a)("PostDetail",(function(){return __webpack_require__.e(8).then(__webpack_require__.bind(null,1571))})),prepare:function prepare(params){var PostDetailQuery=__webpack_require__(709);return{postDetailQuery:Object(src.b)(Environment,PostDetailQuery,{id:params.id},{fetchPolicy:"store-or-network"})}}}]}],esm_history=__webpack_require__(90);function Feed_stories_slicedToArray(arr,i){return function Feed_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function Feed_stories_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function Feed_stories_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return Feed_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Feed_stories_arrayLikeToArray(o,minLen)}(arr,i)||function Feed_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Feed_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"Feed",component:Feed.default};var Feed_stories_environment=Object(relay_test_utils.createMockEnvironment)(),router=Object(route_src.d)(routes,Object(esm_history.b)()),Feed_stories_FeedQuery=__webpack_require__(460),Feed_stories_query=Feed_stories_FeedQuery,Feed_stories_variables={},customMockResolvers={};Feed_stories_environment.mock.queuePendingOperation(Feed_stories_query,Feed_stories_variables),Feed_stories_environment.mock.queueOperationResolver((function(operation){return relay_test_utils.MockPayloadGenerator.generate(operation,customMockResolvers)}));var Feed_stories_Template=function Template(args){var mockResolvers=args.mockResolvers,Root=function getRoot(_ref){var Component=_ref.Component,getPrepared=_ref.getPrepared;return function(props){var prepared=Feed_stories_slicedToArray(Object(react.useState)((function(){return getPrepared()})),1)[0];return Object(jsx_runtime.jsx)(route_src.c.Provider,{value:router.context,children:Object(jsx_runtime.jsx)(ErrorBoundary.a,{children:Object(jsx_runtime.jsx)(react.Suspense,{fallback:"Loading fallback...",children:Object(jsx_runtime.jsx)(notistack_esm.a,{children:Object(jsx_runtime.jsx)(Component,Object.assign({prepared:prepared},props))})})})})}}({Component:Feed.default,getPrepared:function getPrepared(){return{feedQuery:Object(src.b)(Feed_stories_environment,Feed_stories_FeedQuery,Feed_stories_variables,{fetchPolicy:"store-or-network"})}}});return Object(jsx_runtime.jsx)(RelayStorybook_RelayStorybook,{environment:Feed_stories_environment,mockResolvers:mockResolvers,children:Object(jsx_runtime.jsx)(Root,Object.assign({},args))})};Feed_stories_Template.displayName="Template";var Simple=Feed_stories_Template.bind({});Simple.parameters=Object.assign({storySource:{source:"(args) => {\n  const { mockResolvers } = args;\n\n  const Root = getRoot({\n    Component: Feed,\n    getPrepared: () => {\n      const prepared = {\n        feedQuery: loadQuery(\n          environment,\n          FeedQuery,\n          variables,\n          {\n            fetchPolicy: 'store-or-network',\n          },\n        ),\n      };\n\n      return prepared;\n    },\n  });\n\n  return (\n    <RelayStorybook environment={environment} mockResolvers={mockResolvers}>\n      <Root {...args} />\n    </RelayStorybook>\n  );\n}"}},Simple.parameters)},258:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return getToken})),__webpack_require__.d(__webpack_exports__,"b",(function(){return updateToken})),__webpack_require__.d(__webpack_exports__,"c",(function(){return useLogout}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_workshop_route__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(74),getToken=function getToken(){return localStorage.getItem("reacteurope")},updateToken=function updateToken(){var token=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";token&&""!==token&&null!==token?localStorage.setItem("reacteurope",token):localStorage.removeItem("reacteurope")},useLogout=function useLogout(){var history=Object(_workshop_route__WEBPACK_IMPORTED_MODULE_1__.e)();return[Object(react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){updateToken(""),history.push("/auth/login")}),[history])]}},327:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(25),__webpack_require__(190),__webpack_require__(237);var react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){return o.__proto__=p,o})(o,p)}function _createSuper(Derived){var hasNativeReflectConstruct=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var result,Super=_getPrototypeOf(Derived);if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else result=Super.apply(this,arguments);return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var ErrorBoundary=function(_React$Component){!function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}(ErrorBoundary,_React$Component);var _super=_createSuper(ErrorBoundary);function ErrorBoundary(){var _this;_classCallCheck(this,ErrorBoundary);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).state={error:null},_this}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(ErrorBoundary,[{key:"render",value:function render(){return null!=this.state.error?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{children:["Error: ",this.state.error.message]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("pre",{children:JSON.stringify(this.state.error.source,null,2)})})]}):this.props.children}}],[{key:"getDerivedStateFromError",value:function getDerivedStateFromError(error){return{error:error}}}]),ErrorBoundary}(react__WEBPACK_IMPORTED_MODULE_3___default.a.Component);__webpack_exports__.a=ErrorBoundary},460:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var v0,v1,v2,v3,v4,v5,v6,v7,v8,v9,node={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FeedQuery",selections:[v2={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"me",plural:!1,selections:v1=[v0={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"FeedList_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"FeedQuery",selections:[{alias:null,args:v3=[{kind:"Literal",name:"first",value:3}],concreteType:"PostConnection",kind:"LinkedField",name:"posts",plural:!1,selections:[v4={alias:null,args:null,kind:"ScalarField",name:"endCursorOffset",storageKey:null},v5={alias:null,args:null,kind:"ScalarField",name:"startCursorOffset",storageKey:null},v6={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},v7={alias:null,args:null,concreteType:"PageInfoExtended",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PostEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Post",kind:"LinkedField",name:"node",plural:!1,selections:[v0,{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"author",plural:!1,selections:v1,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"meHasLiked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"likesCount",storageKey:null},{alias:null,args:v3,concreteType:"CommentConnection",kind:"LinkedField",name:"comments",plural:!1,selections:[v4,v5,v6,v7,{alias:null,args:null,concreteType:"CommentEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[v8={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[v0,{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:v1,storageKey:null},v9={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"comments(first:3)"},{alias:null,args:v3,filters:[],handle:"connection",key:"PostComments_comments",kind:"LinkedHandle",name:"comments"},v9],storageKey:null},v8],storageKey:null}],storageKey:"posts(first:3)"},{alias:null,args:v3,filters:[],handle:"connection",key:"Feed_posts",kind:"LinkedHandle",name:"posts"},v2]},params:{cacheID:"d453cf2e5996141e8085255c5692ab85",id:null,metadata:{},name:"FeedQuery",operationKind:"query",text:"query FeedQuery {\n  ...FeedList_query\n  me {\n    id\n    name\n  }\n}\n\nfragment FeedList_query on Query {\n  posts(first: 3) {\n    endCursorOffset\n    startCursorOffset\n    count\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      startCursor\n      endCursor\n    }\n    edges {\n      node {\n        id\n        ...Post_post\n        __typename\n      }\n      cursor\n    }\n  }\n  me {\n    ...Post_me\n    id\n  }\n}\n\nfragment PostCommentComposer_me on User {\n  id\n  name\n}\n\nfragment PostCommentComposer_post on Post {\n  id\n  author {\n    ...UserAvatar_user\n    id\n  }\n}\n\nfragment PostComments_post on Post {\n  id\n  comments(first: 3) {\n    endCursorOffset\n    startCursorOffset\n    count\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      startCursor\n      endCursor\n    }\n    edges {\n      cursor\n      node {\n        id\n        body\n        user {\n          id\n          name\n          ...UserAvatar_user\n        }\n        __typename\n      }\n    }\n  }\n}\n\nfragment PostHeader_user on User {\n  id\n  name\n  ...UserAvatar_user\n}\n\nfragment PostLikeButton_post on Post {\n  id\n  meHasLiked\n  likesCount\n}\n\nfragment Post_me on User {\n  ...PostCommentComposer_me\n}\n\nfragment Post_post on Post {\n  id\n  content\n  author {\n    id\n    name\n    ...PostHeader_user\n    ...UserAvatar_user\n  }\n  ...PostLikeButton_post\n  ...PostCommentComposer_post\n  ...PostComments_post\n}\n\nfragment UserAvatar_user on User {\n  id\n  name\n}\n"}};node.hash="25af32e2c7ef2efd4369d84ca307f64e",__webpack_exports__.default=node},466:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _PostCreateMutation,react=__webpack_require__(0),hooks=(__webpack_require__(101),__webpack_require__(48)),src=__webpack_require__(77),CardContent=(__webpack_require__(18),__webpack_require__(1544)),Button=__webpack_require__(1542),relay_src=__webpack_require__(63),relay_runtime=__webpack_require__(41),PostCreate=void 0!==_PostCreateMutation?_PostCreateMutation:_PostCreateMutation=__webpack_require__(1460),PostCreateMutation_updater=function updater(store){var newEdge=store.getRootField("PostCreate").getLinkedRecord("postEdge");Object(relay_src.a)({store:store,parentId:relay_runtime.ROOT_ID,connectionName:"Feed_posts",edge:newEdge,before:!0})},jsx_runtime=__webpack_require__(3);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var PostComposer_PostComposer=function PostComposer(){var _useState2=_slicedToArray(Object(react.useState)(""),2),content=_useState2[0],setContent=_useState2[1],_useMutation2=_slicedToArray(Object(relay_src.c)(PostCreate),2),postCreate=_useMutation2[0],isPending=_useMutation2[1],isDisabled=content.length<=3||isPending;return Object(jsx_runtime.jsxs)(src.c,{mb:"10px",flexDirection:"column",children:[Object(jsx_runtime.jsx)(CardContent.a,{children:Object(jsx_runtime.jsx)(src.f,{label:"What's happening",value:content,onChange:function onChange(e){return setContent(e.target.value)}})}),Object(jsx_runtime.jsx)(src.d,{justifyContent:"flex-end",children:Object(jsx_runtime.jsx)(Button.a,{variant:"contained",color:"primary",onClick:function onSubmit(){postCreate({variables:{input:{content:content}},updater:PostCreateMutation_updater,onCompleted:function onCompleted(){setContent("")}})},disabled:isDisabled,children:"Post"})})]})};PostComposer_PostComposer.displayName="PostComposer";var _FeedList_query,feed_PostComposer=PostComposer_PostComposer,lib_hooks=(__webpack_require__(23),__webpack_require__(461)),react_infinite_scroller=__webpack_require__(694),react_infinite_scroller_default=__webpack_require__.n(react_infinite_scroller),CircularProgress=__webpack_require__(1546),index_esm=__webpack_require__(56),Post=__webpack_require__(677),FeedList_FeedList=function FeedList(props){var _usePaginationFragmen=Object(lib_hooks.usePaginationFragment)(void 0!==_FeedList_query?_FeedList_query:_FeedList_query=__webpack_require__(1475),props.query),data=_usePaginationFragmen.data,loadNext=_usePaginationFragmen.loadNext,isLoadingNext=_usePaginationFragmen.isLoadingNext,infiniteScrollerLoader=Object(jsx_runtime.jsx)(index_esm.a,{flex:1,alignItems:"center",justiyContent:"center",children:Object(jsx_runtime.jsx)(CircularProgress.a,{})}),posts=data.posts,me=data.me,pageInfo=posts.pageInfo;return Object(jsx_runtime.jsx)(react_infinite_scroller_default.a,{pageStart:0,loadMore:function loadMore(){isLoadingNext||loadNext(3)},hasMore:pageInfo.hasNextPage,loader:infiniteScrollerLoader,useWindow:!0,children:data.posts.edges.map((function(_ref){var node=_ref.node;return Object(jsx_runtime.jsx)(Post.a,{post:node,me:me},node.id)}))})};FeedList_FeedList.displayName="FeedList";var _PostNewSubscription,_FeedQuery,feed_FeedList=FeedList_FeedList,notistack_esm=(__webpack_require__(11),__webpack_require__(317)),route_src=__webpack_require__(74),PostNewSubscription_PostNew=void 0!==_PostNewSubscription?_PostNewSubscription:_PostNewSubscription=__webpack_require__(1477),PostNewSubscription_updater=function updater(store){var postNode=store.getRootField("PostNew").getLinkedRecord("post"),postId=postNode.getValue("id");if(!store.get(postId)){var postConnection=relay_runtime.ConnectionHandler.getConnection(store.getRoot(),"Feed_posts"),postEdge=relay_runtime.ConnectionHandler.createEdge(store,postConnection,postNode,"PostEdge");Object(relay_src.a)({store:store,parentId:relay_runtime.ROOT_ID,connectionName:"Feed_posts",edge:postEdge,before:!0})}},Feed_Feed=function Feed(_ref){var prepared=_ref.prepared,data=Object(hooks.usePreloadedQuery)(void 0!==_FeedQuery?_FeedQuery:_FeedQuery=__webpack_require__(460),prepared.feedQuery);return function useNewPostSubscription(me){var _useSnackbar=Object(notistack_esm.b)(),enqueueSnackbar=_useSnackbar.enqueueSnackbar,closeSnackbar=_useSnackbar.closeSnackbar,history=Object(route_src.e)(),postNewConfig=Object(react.useMemo)((function(){return{subscription:PostNewSubscription_PostNew,variables:{input:{}},onCompleted:function onCompleted(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];console.log("onCompleted: ",args)},onError:function onError(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];console.log("onError: ",args)},onNext:function onNext(_ref){var post=_ref.PostNew.post,author=post.author;if(author.id!==me.id){enqueueSnackbar("New Post from ".concat(author.name),{variant:"success",action:function action(key){return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(Button.a,{color:"primary",onClick:function onClick(){history.push("/post/".concat(post.id)),closeSnackbar(key)},children:"See"}),Object(jsx_runtime.jsx)(Button.a,{onClick:function onClick(){closeSnackbar(key)},children:"Dismiss"})]})}})}},updater:PostNewSubscription_updater}}),[]);Object(relay_src.d)(postNewConfig)}(data.me),Object(jsx_runtime.jsxs)(src.e,{children:[Object(jsx_runtime.jsx)(feed_PostComposer,{}),Object(jsx_runtime.jsx)(feed_FeedList,{query:data})]})};Feed_Feed.displayName="Feed";__webpack_exports__.default=Feed_Feed},63:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return useMutation_useMutation})),__webpack_require__.d(__webpack_exports__,"a",(function(){return connectionUpdater})),__webpack_require__.d(__webpack_exports__,"d",(function(){return useSubscription_useSubscription})),__webpack_require__.d(__webpack_exports__,"b",(function(){return loadQuery}));__webpack_require__(18),__webpack_require__(7);var react=__webpack_require__(0),hooks=__webpack_require__(48),relay_runtime=__webpack_require__(41);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var useMutation_useMutation=function useMutation(mutation){var environment=Object(hooks.useRelayEnvironment)(),_useState2=_slicedToArray(Object(react.useState)(!1),2),isPending=_useState2[0],setPending=_useState2[1],requestRef=Object(react.useRef)(null),mountedRef=Object(react.useRef)(!1),execute=Object(react.useCallback)((function(){var config=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{variables:{}};if(null==requestRef.current){var request=Object(relay_runtime.commitMutation)(environment,Object.assign({},config,{onCompleted:function onCompleted(response){mountedRef.current&&(requestRef.current=null,setPending(!1),config.onCompleted&&config.onCompleted(response))},onError:function onError(error){console.error(error),mountedRef.current&&(requestRef.current=null,setPending(!1),config.onError&&config.onError(error))},mutation:mutation}));requestRef.current=request,setPending(!0)}}),[mutation,environment]);return Object(react.useEffect)((function(){return mountedRef.current=!0,function(){return mountedRef.current=!1}}),[]),[execute,isPending]};__webpack_require__(25);function connectionUpdater(_ref){var store=_ref.store,parentId=_ref.parentId,connectionName=_ref.connectionName,edge=_ref.edge,_ref$before=_ref.before,before=void 0!==_ref$before&&_ref$before;if(edge){if(!parentId)return void console.log("maybe you forgot to pass a parentId: ");var parentProxy=store.get(parentId),conn=relay_runtime.ConnectionHandler.getConnection(parentProxy,connectionName);if(!conn)return void console.log("maybe this connection is not in relay store: ",connectionName);before?relay_runtime.ConnectionHandler.insertEdgeBefore(conn,edge):relay_runtime.ConnectionHandler.insertEdgeAfter(conn,edge)}}var useSubscription_useSubscription=function useSubscription(config,requestSubscriptionFn){var actualRequestSubscription=null!=requestSubscriptionFn?requestSubscriptionFn:relay_runtime.requestSubscription,environment=Object(hooks.useRelayEnvironment)();Object(react.useEffect)((function(){return Object(relay_runtime.requestSubscription)(environment,config).dispose}),[environment,config,actualRequestSubscription])},loadQuery=hooks.loadQuery.loadQuery},677:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(12),__webpack_require__(7),__webpack_require__(36),__webpack_require__(39);var _PostLikeMutation,_PostUnLikeMutation,_PostLikeButton_post,react=__webpack_require__(0),react_default=__webpack_require__.n(react),CardContent=__webpack_require__(1544),hooks=__webpack_require__(48),styled_components_browser_esm=(__webpack_require__(101),__webpack_require__(78)),index_esm=__webpack_require__(56),src=__webpack_require__(77),route_src=__webpack_require__(74),Favorite=(__webpack_require__(18),__webpack_require__(695)),Favorite_default=__webpack_require__.n(Favorite),FavoriteBorder=__webpack_require__(696),FavoriteBorder_default=__webpack_require__.n(FavoriteBorder),IconButton=__webpack_require__(1543),relay_src=__webpack_require__(63),PostLike=void 0!==_PostLikeMutation?_PostLikeMutation:_PostLikeMutation=__webpack_require__(1463),likeOptimisticResponse=function likeOptimisticResponse(post){return{PostLike:{success:"",error:null,post:{id:post.id,meHasLiked:!0,likesCount:post.likesCount+1}}}},PostUnLike=void 0!==_PostUnLikeMutation?_PostUnLikeMutation:_PostUnLikeMutation=__webpack_require__(1464),unlikeOptimisticResponse=function unlikeOptimisticResponse(post){return{PostUnLike:{success:"",error:null,post:{id:post.id,meHasLiked:!1,likesCount:post.likesCount-1}}}},jsx_runtime=__webpack_require__(3);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var _UserAvatar_user,like_PostLikeButton=function PostLikeButton(props){var post=Object(hooks.useFragment)(void 0!==_PostLikeButton_post?_PostLikeButton_post:_PostLikeButton_post=__webpack_require__(1465),props.post),postLike=_slicedToArray(Object(relay_src.c)(PostLike),1)[0],postUnLike=_slicedToArray(Object(relay_src.c)(PostUnLike),1)[0],Icon=post.meHasLiked?Favorite_default.a:FavoriteBorder_default.a;return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(IconButton.a,{onClick:function handleLike(){var config={variables:{input:{post:post.id}},optimisticResponse:post.meHasLiked?unlikeOptimisticResponse(post):likeOptimisticResponse(post)};(post.meHasLiked?postUnLike:postLike)(config)},"data-testid":"likeButton",children:Object(jsx_runtime.jsx)(Icon,{style:{color:src.i.relayDark}})}),post.likesCount>0?Object(jsx_runtime.jsx)(index_esm.b,{children:post.likesCount}):null]})},Send=__webpack_require__(697),Send_default=__webpack_require__.n(Send),Divider=__webpack_require__(1545),Avatar=(__webpack_require__(73),__webpack_require__(23),__webpack_require__(11),__webpack_require__(29),__webpack_require__(87),__webpack_require__(1550)),UserAvatar_UserAvatar=function UserAvatar(props){var _props$showName=props.showName,showName=void 0===_props$showName||_props$showName,user=Object(hooks.useFragment)(void 0!==_UserAvatar_user?_UserAvatar_user:_UserAvatar_user=__webpack_require__(1466),props.user),initials=function getInitials(name){return name?name.split(" ").slice(0,2).map((function(namePart){return namePart.charAt(0)})).join(""):"AN"}(user.name);return Object(jsx_runtime.jsxs)(index_esm.a,{alignItems:"center",children:[Object(jsx_runtime.jsx)(Avatar.a,{children:initials}),showName&&Object(jsx_runtime.jsx)(index_esm.b,{ml:"10px",fontWeight:"600",color:src.i.relayDark,children:user.name})]})};UserAvatar_UserAvatar.displayName="UserAvatar";var _PostCommentCreateMutation,_PostCommentComposer_post,_PostCommentComposer_me,feed_UserAvatar=UserAvatar_UserAvatar,relay_runtime=__webpack_require__(41),PostCommentCreate=void 0!==_PostCommentCreateMutation?_PostCommentCreateMutation:_PostCommentCreateMutation=__webpack_require__(1467),PostCommentCreateMutation_updater=function updater(parentId){return function(store){var newEdge=store.getRootField("PostCommentCreate").getLinkedRecord("commentEdge");Object(relay_src.a)({store:store,parentId:parentId,connectionName:"PostComments_comments",edge:newEdge,before:!0})}},tempID=0,PostCommentCreateMutation_optimisticUpdater=function optimisticUpdater(input,me){return function(store){var id="client:newComment:"+tempID++,node=store.create(id,"Comment"),meProxy=store.get(me.id);node.setValue(id,"id"),node.setValue(input.body,"body"),node.setLinkedRecord(meProxy,"user");var newEdge=store.create("client:newEdge:"+tempID++,"CommentEdge");newEdge.setLinkedRecord(node,"node");var parentProxy=store.get(input.post),conn=relay_runtime.ConnectionHandler.getConnection(parentProxy,"PostComments_comments");relay_runtime.ConnectionHandler.insertEdgeBefore(conn,newEdge)}};function PostCommentComposer_slicedToArray(arr,i){return function PostCommentComposer_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function PostCommentComposer_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function PostCommentComposer_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return PostCommentComposer_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PostCommentComposer_arrayLikeToArray(o,minLen)}(arr,i)||function PostCommentComposer_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PostCommentComposer_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var _PostComments_post,comment_PostCommentComposer=function PostCommentComposer(props){var post=Object(hooks.useFragment)(void 0!==_PostCommentComposer_post?_PostCommentComposer_post:_PostCommentComposer_post=__webpack_require__(1468),props.post),me=Object(hooks.useFragment)(void 0!==_PostCommentComposer_me?_PostCommentComposer_me:_PostCommentComposer_me=__webpack_require__(1469),props.me),_useState2=PostCommentComposer_slicedToArray(Object(react.useState)(""),2),body=_useState2[0],setBody=_useState2[1],_useMutation2=PostCommentComposer_slicedToArray(Object(relay_src.c)(PostCommentCreate),2),postCommentCreate=_useMutation2[0],isPending=_useMutation2[1],isDisabled=body.length<1||isPending;return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(Divider.a,{}),Object(jsx_runtime.jsxs)(index_esm.a,{flex:1,p:"16px",children:[Object(jsx_runtime.jsx)(feed_UserAvatar,{showName:!1,user:post.author}),Object(jsx_runtime.jsx)(src.h,{ml:"10px",flexGrow:1,variant:"outlined",value:body,onChange:function onChange(e){return setBody(e.target.value)}}),Object(jsx_runtime.jsx)(IconButton.a,{onClick:function handleNewComment(){var input={post:post.id,body:body},config={variables:{input:input},updater:PostCommentCreateMutation_updater(post.id),optimisticUpdater:PostCommentCreateMutation_optimisticUpdater(input,me),onCompleted:function onCompleted(){setBody("")}};postCommentCreate(config)},disabled:isDisabled,children:Object(jsx_runtime.jsx)(Send_default.a,{})})]})]})},Button=__webpack_require__(1542),CircularProgress=__webpack_require__(1546);function PostComments_slicedToArray(arr,i){return function PostComments_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function PostComments_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function PostComments_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return PostComments_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PostComments_arrayLikeToArray(o,minLen)}(arr,i)||function PostComments_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function PostComments_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var PostComments_PostComments=function PostComments(props){var _useTransition2=PostComments_slicedToArray(Object(react.unstable_useTransition)(),2),startTransition=_useTransition2[0],isPending=_useTransition2[1],_useRefetchableFragme2=PostComments_slicedToArray(Object(hooks.useRefetchableFragment)(void 0!==_PostComments_post?_PostComments_post:_PostComments_post=__webpack_require__(1470),props.post),2),post=_useRefetchableFragme2[0],refetch=_useRefetchableFragme2[1],comments=post.comments,edges=comments.edges,pageInfo=comments.pageInfo;if(0===edges.length)return null;var isDisabled=!pageInfo.hasNextPage;return Object(jsx_runtime.jsxs)(index_esm.a,{flex:1,p:"16px",flexDirection:"column",children:[post.comments.edges.map((function(_ref){var node=_ref.node;return Object(jsx_runtime.jsxs)(index_esm.a,{mt:"10px",children:[Object(jsx_runtime.jsx)(feed_UserAvatar,{showName:!1,user:node.user}),Object(jsx_runtime.jsxs)(index_esm.a,{backgroundColor:"#F2F3F5",borderRadius:10,p:"10px",ml:"10px",children:[Object(jsx_runtime.jsx)(index_esm.b,{fontWeight:"600px",color:src.i.relayDark,children:node.user.name}),Object(jsx_runtime.jsx)(index_esm.b,{ml:"10px",children:node.body})]})]},node.id)})),isPending&&Object(jsx_runtime.jsx)(index_esm.a,{mt:"10px",justifyContent:"center",children:Object(jsx_runtime.jsx)(CircularProgress.a,{})}),Object(jsx_runtime.jsx)(index_esm.a,{flex:1,justifyContent:"flex-end",mt:"10px",children:Object(jsx_runtime.jsx)(Button.a,{variant:"contained",color:"primary",onClick:function loadMore(){startTransition((function(){var after=pageInfo.endCursor,variables={id:post.id,first:3,after:after};refetch(variables,{fetchPolicy:"store-or-network"})}))},disabled:isDisabled,children:"Show older"})})]})};PostComments_PostComments.displayName="PostComments";var _PostHeader_user,comment_PostComments=PostComments_PostComments,PostHeader_PostHeader=function PostHeader(props){var user=Object(hooks.useFragment)(void 0!==_PostHeader_user?_PostHeader_user:_PostHeader_user=__webpack_require__(1472),props.user);return Object(jsx_runtime.jsxs)(index_esm.a,{alignItems:"center",children:[Object(jsx_runtime.jsx)(feed_UserAvatar,{user:user}),Object(jsx_runtime.jsx)(index_esm.b,{ml:"5px",children:"posted in your Workshop"})]})};PostHeader_PostHeader.displayName="PostHeader";var _Post_post,_Post_me,post_PostHeader=PostHeader_PostHeader;function _templateObject(){var data=function _taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  text-decoration: none;\n  color: black;\n"]);return _templateObject=function _templateObject(){return data},data}var Link=Object(styled_components_browser_esm.a)(route_src.b)(_templateObject()),Post_Post=function Post(props){var _props$isDetail=props.isDetail,isDetail=void 0!==_props$isDetail&&_props$isDetail,post=Object(hooks.useFragment)(void 0!==_Post_post?_Post_post:_Post_post=__webpack_require__(1473),props.post),me=Object(hooks.useFragment)(void 0!==_Post_me?_Post_me:_Post_me=__webpack_require__(1474),props.me),Wrapper=isDetail?react_default.a.Fragment:Link,wrapperProps=isDetail?{}:{to:"/post/".concat(post.id)},author=post.author;return Object(jsx_runtime.jsxs)(src.c,{mt:"10px",mb:"10px",flexDirection:"column",children:[Object(jsx_runtime.jsx)(Wrapper,Object.assign({},wrapperProps,{children:Object(jsx_runtime.jsxs)(CardContent.a,{children:[Object(jsx_runtime.jsx)(post_PostHeader,{user:author}),Object(jsx_runtime.jsx)(index_esm.b,{mt:"10px",children:post.content})]})})),Object(jsx_runtime.jsx)(src.d,{children:Object(jsx_runtime.jsx)(like_PostLikeButton,{post:post})}),Object(jsx_runtime.jsx)(comment_PostCommentComposer,{post:post,me:me}),Object(jsx_runtime.jsx)(comment_PostComments,{post:post})]})};Post_Post.displayName="Post";__webpack_exports__.a=Post_Post},708:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var v0,node={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RootQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"me",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"useAuth_user",selections:v0=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"RootQuery",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"me",plural:!1,selections:v0,storageKey:null}]},params:{cacheID:"a8ddb1a6294932171590af05941f7cf8",id:null,metadata:{},name:"RootQuery",operationKind:"query",text:"query RootQuery {\n  me {\n    ...useAuth_user\n    id\n  }\n}\n\nfragment useAuth_user on User {\n  id\n  name\n}\n"}};node.hash="ff849c298092c41b662d83a46477a0b1",__webpack_exports__.default=node},709:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var v0,v1,v2,v3,v4,v5,node={fragment:{argumentDefinitions:v0=[{defaultValue:null,kind:"LocalArgument",name:"id"}],kind:"Fragment",metadata:null,name:"PostDetailQuery",selections:[{alias:"post",args:v1=[{kind:"Variable",name:"id",variableName:"id"}],concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"Post_post"}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"me",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"Post_me"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:v0,kind:"Operation",name:"PostDetailQuery",selections:[{alias:"post",args:v1,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[v2={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},v3={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"author",plural:!1,selections:v4=[v3,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"meHasLiked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"likesCount",storageKey:null},{alias:null,args:v5=[{kind:"Literal",name:"first",value:3}],concreteType:"CommentConnection",kind:"LinkedField",name:"comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"endCursorOffset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursorOffset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"PageInfoExtended",kind:"LinkedField",name:"pageInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasNextPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasPreviousPage",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"startCursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"endCursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CommentEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[v3,{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:v4,storageKey:null},v2],storageKey:null}],storageKey:null}],storageKey:"comments(first:3)"},{alias:null,args:v5,filters:[],handle:"connection",key:"PostComments_comments",kind:"LinkedHandle",name:"comments"}],type:"Post",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"me",plural:!1,selections:v4,storageKey:null}]},params:{cacheID:"0bee1f5194785b84740026fc428d1503",id:null,metadata:{},name:"PostDetailQuery",operationKind:"query",text:"query PostDetailQuery(\n  $id: ID!\n) {\n  post: node(id: $id) {\n    __typename\n    ...Post_post\n    id\n  }\n  me {\n    ...Post_me\n    id\n  }\n}\n\nfragment PostCommentComposer_me on User {\n  id\n  name\n}\n\nfragment PostCommentComposer_post on Post {\n  id\n  author {\n    ...UserAvatar_user\n    id\n  }\n}\n\nfragment PostComments_post on Post {\n  id\n  comments(first: 3) {\n    endCursorOffset\n    startCursorOffset\n    count\n    pageInfo {\n      hasNextPage\n      hasPreviousPage\n      startCursor\n      endCursor\n    }\n    edges {\n      cursor\n      node {\n        id\n        body\n        user {\n          id\n          name\n          ...UserAvatar_user\n        }\n        __typename\n      }\n    }\n  }\n}\n\nfragment PostHeader_user on User {\n  id\n  name\n  ...UserAvatar_user\n}\n\nfragment PostLikeButton_post on Post {\n  id\n  meHasLiked\n  likesCount\n}\n\nfragment Post_me on User {\n  ...PostCommentComposer_me\n}\n\nfragment Post_post on Post {\n  id\n  content\n  author {\n    id\n    name\n    ...PostHeader_user\n    ...UserAvatar_user\n  }\n  ...PostLikeButton_post\n  ...PostCommentComposer_post\n  ...PostComments_post\n}\n\nfragment UserAvatar_user on User {\n  id\n  name\n}\n"}};node.hash="746fed13d1ab2e97b3ee6485c944449c",__webpack_exports__.default=node},721:function(module,exports,__webpack_require__){__webpack_require__(722),__webpack_require__(921),__webpack_require__(922),__webpack_require__(1076),__webpack_require__(1292),__webpack_require__(1325),__webpack_require__(1330),__webpack_require__(1342),__webpack_require__(1344),__webpack_require__(1349),__webpack_require__(1351),module.exports=__webpack_require__(1355)},74:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return src_RoutingContext})),__webpack_require__.d(__webpack_exports__,"d",(function(){return createRouter})),__webpack_require__.d(__webpack_exports__,"a",(function(){return JSResource})),__webpack_require__.d(__webpack_exports__,"e",(function(){return useHistory_useHistory})),__webpack_require__.d(__webpack_exports__,"b",(function(){return src_Link}));var react=__webpack_require__(0),RoutingContext=__webpack_require__.n(react).a.createContext(null),src_RoutingContext=RoutingContext,RoutingContext_useRoutingContext=function useRoutingContext(){return Object(react.useContext)(RoutingContext)},react_router_config=(__webpack_require__(54),__webpack_require__(18),__webpack_require__(21),__webpack_require__(23),__webpack_require__(284),__webpack_require__(13),__webpack_require__(29),__webpack_require__(22),__webpack_require__(136),__webpack_require__(55),__webpack_require__(24),__webpack_require__(330)),createRouter_matchRoute=function matchRoute(routes,location){var matchedRoutes=Object(react_router_config.a)(routes,location.pathname);if(!Array.isArray(matchedRoutes)||0===matchedRoutes.length)throw new Error("No route for "+location.pathname);return matchedRoutes},prepareMatches=function prepareMatches(matches){return matches.map((function(match){var route=match.route,matchData=match.match,prepared=route.prepare?route.prepare(matchData.params):{};return null==route.component.get()&&route.component.load(),{component:route.component,prepared:prepared,routeData:matchData}}))};function createRouter(routes,history){var initialMatches=createRouter_matchRoute(routes,history.location),initialEntries=prepareMatches(initialMatches),currentEntry={location:history.location,entries:initialEntries},nextId=0,subscribers=new Map;return{cleanup:history.listen((function(location,action){if(location.pathname!==currentEntry.location.pathname){var matches=createRouter_matchRoute(routes,location),nextEntry={location:location,entries:prepareMatches(matches)};currentEntry=nextEntry,subscribers.forEach((function(cb){return cb(nextEntry)}))}})),context:{history:history,get:function get(){return currentEntry},preloadCode:function preloadCode(pathname){Object(react_router_config.a)(routes,pathname).forEach((function(_ref){return _ref.route.component.load()}))},preload:function preload(pathname){var matches=Object(react_router_config.a)(routes,pathname);prepareMatches(matches)},subscribe:function subscribe(cb){var id=nextId++;return subscribers.set(id,cb),function dispose(){subscribers.delete(id)}}}}}__webpack_require__(236),__webpack_require__(90),__webpack_require__(25),__webpack_require__(1422),__webpack_require__(12),__webpack_require__(36),__webpack_require__(39);var styled_components_browser_esm=__webpack_require__(78),ErrorBoundary=__webpack_require__(327),jsx_runtime=__webpack_require__(3);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _templateObject2(){var data=_taggedTemplateLiteral(["\n  position: absolute;\n  z-index: 1;\n  background-color: #fff;\n  visibility: hidden;\n  animation: 0s linear 0.5s forwards ",";\n"]);return _templateObject2=function _templateObject2(){return data},data}function _templateObject(){var data=_taggedTemplateLiteral(["\n  to {\n    visibility: visible;\n  }\n"]);return _templateObject=function _templateObject(){return data},data}function _taggedTemplateLiteral(strings,raw){return raw||(raw=strings.slice(0)),Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}var SUSPENSE_CONFIG={timeoutMs:2e3},makeVisible=Object(styled_components_browser_esm.b)(_templateObject()),Pending=styled_components_browser_esm.a.div(_templateObject2(),makeVisible),RouterRenderer_RouterRenderer=function RouterRenderer(){var router=RoutingContext_useRoutingContext(),_useTransition2=_slicedToArray(Object(react.unstable_useTransition)(SUSPENSE_CONFIG),2),startTransition=_useTransition2[0],isPending=_useTransition2[1],_useState2=_slicedToArray(Object(react.useState)(router.get()),2),routeEntry=_useState2[0],setRouteEntry=_useState2[1];Object(react.useEffect)((function(){var currentEntry=router.get();if(currentEntry===routeEntry){var dispose=router.subscribe((function(nextEntry){startTransition((function(){setRouteEntry(nextEntry)}))}));return function(){return dispose()}}setRouteEntry(currentEntry)}),[router,startTransition]);for(var reversedItems=[].concat(routeEntry.entries).reverse(),firstItem=reversedItems[0],routeComponent=Object(jsx_runtime.jsx)(RouterRenderer_RouteComponent,{component:firstItem.component,prepared:firstItem.prepared,routeData:firstItem.routeData}),ii=1;ii<reversedItems.length;ii++){var nextItem=reversedItems[ii];routeComponent=Object(jsx_runtime.jsx)(RouterRenderer_RouteComponent,{component:nextItem.component,prepared:nextItem.prepared,routeData:nextItem.routeData,children:routeComponent})}return Object(jsx_runtime.jsx)(ErrorBoundary.a,{children:Object(jsx_runtime.jsxs)(react.Suspense,{fallback:"Loading fallback...",children:[isPending?Object(jsx_runtime.jsx)(Pending,{children:"Loading pending..."}):null,routeComponent]})})};RouterRenderer_RouterRenderer.displayName="RouterRenderer";var RouterRenderer_RouteComponent=function RouteComponent(props){var Component=props.component.read(),routeData=props.routeData,prepared=props.prepared;return Object(jsx_runtime.jsx)(Component,{routeData:routeData,prepared:prepared,children:props.children})};RouterRenderer_RouteComponent.displayName="RouteComponent";__webpack_require__(62);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var resourceMap=new Map,Resource=function(){function Resource(loader){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Resource),this._error=null,this._loader=loader,this._promise=null,this._result=null}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Resource,[{key:"load",value:function load(){var _this=this,promise=this._promise;return null==promise&&(promise=this._loader().then((function(result){return result.default&&(result=result.default),_this._result=result,result})).catch((function(error){throw _this._error=error,error})),this._promise=promise),promise}},{key:"get",value:function get(){if(null!=this._result)return this._result}},{key:"read",value:function read(){if(null!=this._result)return this._result;throw null!=this._error?this._error:this._promise}}]),Resource}();function JSResource(moduleId,loader){var resource=resourceMap.get(moduleId);return null==resource&&(resource=new Resource(loader),resourceMap.set(moduleId,resource)),resource}var useHistory_useHistory=function useHistory(){return RoutingContext_useRoutingContext().history},Link_Link=function Link(props){var router=RoutingContext_useRoutingContext(),changeRoute=Object(react.useCallback)((function(event){event.preventDefault(),router.history.push(props.to)}),[props.to,router]),preloadRouteCode=Object(react.useCallback)((function(){router.preloadCode(props.to)}),[props.to,router]),preloadRoute=Object(react.useCallback)((function(){router.preload(props.to)}),[props.to,router]);return Object(jsx_runtime.jsx)("a",{href:props.to,onClick:changeRoute,onMouseEnter:preloadRouteCode,onMouseDown:preloadRoute,className:props.className,children:props.children})};Link_Link.displayName="Link";var src_Link=Link_Link},77:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",(function(){return Card_Card})),__webpack_require__.d(__webpack_exports__,"d",(function(){return CardActions_CardActions})),__webpack_require__.d(__webpack_exports__,"e",(function(){return Content})),__webpack_require__.d(__webpack_exports__,"f",(function(){return TextArea})),__webpack_require__.d(__webpack_exports__,"b",(function(){return Button_Button})),__webpack_require__.d(__webpack_exports__,"i",(function(){return theme})),__webpack_require__.d(__webpack_exports__,"a",(function(){return src_BackButton})),__webpack_require__.d(__webpack_exports__,"g",(function(){return src_TextField})),__webpack_require__.d(__webpack_exports__,"h",(function(){return TextFieldMaterial}));__webpack_require__(12),__webpack_require__(36),__webpack_require__(39);var styled_components_browser_esm=__webpack_require__(78),Card=__webpack_require__(1537),index_esm=__webpack_require__(33);function _templateObject(){var data=function _taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  display: flex;\n  flex-direction: row;\n  ","\n  ","\n  ","\n"]);return _templateObject=function _templateObject(){return data},data}var Card_Card=Object(styled_components_browser_esm.a)(Card.a)(_templateObject(),index_esm.flexbox,index_esm.space,index_esm.layout),CardActions=__webpack_require__(1541);function CardActions_templateObject(){var data=function CardActions_taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  ","\n  ","\n"]);return CardActions_templateObject=function _templateObject(){return data},data}var CardActions_CardActions=Object(styled_components_browser_esm.a)(CardActions.a)(CardActions_templateObject(),index_esm.flexbox,index_esm.space);function Content_templateObject(){var data=function Content_taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  max-width: 500px;\n  margin: 0 auto;\n  padding: 35px;\n  ","\n  ","\n  ","\n"]);return Content_templateObject=function _templateObject(){return data},data}var Content=styled_components_browser_esm.a.div(Content_templateObject(),index_esm.flexbox,index_esm.space,index_esm.layout),TextField_TextField=__webpack_require__(1547);function TextArea_templateObject(){var data=function TextArea_taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  && {\n    margin: 0;\n    .MuiInputBase-inputMultiline {\n      font-weight: normal;\n      padding: 5px;\n      border: solid 1px #dedede;\n      border-radius: 10px;\n      box-sizing: border-box;\n      font-size: 14px;\n    }\n    .MuiInputLabel-root {\n      margin-left: 10px;\n    }\n  }\n"]);return TextArea_templateObject=function _templateObject(){return data},data}var TextArea=Object(styled_components_browser_esm.a)(TextField_TextField.a).attrs({rows:4,multiline:!0,fullWidth:!0,InputProps:{disableUnderline:!0}})(TextArea_templateObject()),Button=__webpack_require__(1542);function Button_templateObject(){var data=function Button_taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  ","\n  ","\n"]);return Button_templateObject=function _templateObject(){return data},data}var Button_Button=Object(styled_components_browser_esm.a)(Button.a)(Button_templateObject(),index_esm.flexbox,index_esm.space),theme=(__webpack_require__(7),__webpack_require__(700),{relayDark:"#F06B1F",relayLight:"#F17A35"}),ArrowBack=(__webpack_require__(0),__webpack_require__(691)),ArrowBack_default=__webpack_require__.n(ArrowBack),IconButton=__webpack_require__(1543),src=__webpack_require__(74),jsx_runtime=__webpack_require__(3),BackButton_BackButton=function BackButton(_ref){var _ref$path=_ref.path,path=void 0===_ref$path?"/":_ref$path,history=Object(src.e)();return Object(jsx_runtime.jsx)(IconButton.a,{onClick:function handleGoBack(){history.length>2?history.goBack():history.push(path)},children:Object(jsx_runtime.jsx)(ArrowBack_default.a,{})})};BackButton_BackButton.displayName="BackButton";var src_BackButton=BackButton_BackButton,formik_esm=(__webpack_require__(11),__webpack_require__(468));function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function TextField_templateObject(){var data=function TextField_taggedTemplateLiteral(strings,raw){raw||(raw=strings.slice(0));return Object.freeze(Object.defineProperties(strings,{raw:{value:Object.freeze(raw)}}))}(["\n  ","\n  ","\n"]);return TextField_templateObject=function _templateObject(){return data},data}var TextFieldMaterial=Object(styled_components_browser_esm.a)(TextField_TextField.a)(TextField_templateObject(),index_esm.flexbox,index_esm.space),src_TextField_TextField=function TextField(props){var name=props.name,rest=_objectWithoutProperties(props,["name"]),field=_slicedToArray(Object(formik_esm.b)(name),1)[0];return Object(jsx_runtime.jsx)(TextFieldMaterial,Object.assign({},field,rest))};src_TextField_TextField.displayName="TextField";var src_TextField=src_TextField_TextField},817:function(module,exports){},922:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(518)}},[[721,2,3]]]);
//# sourceMappingURL=main.e6a52fae045ef6118494.bundle.js.map